{"is_source_file": true, "format": "Python", "description": "This Python source file provides implementation for managing OAuth configuration settings for Atlassian products like Jira and Confluence. It retrieves configuration from environment variables, masks secrets for debugging, and offers functions to generate URLs and retrieve configuration details.", "external_files": ["os", "urllib.parse", "pydantic.BaseModel"], "external_methods": ["os.getenv", "urllib.parse.urlparse", "str.strip", "str.lower", "str.startswith", "str.endswith", "str.isnumeric", "dict.get", "list"], "published": ["get_jira_oauth_config", "get_confluence_oauth_config", "get_frontend_base_url_default", "is_jira_oauth_configured", "build_atlassian_authorize_url", "get_jira_oauth_env_debug", "get_atlassian_base_url"], "classes": [{"name": "Settings", "description": "A Pydantic model encapsulating all OAuth-related configuration settings loaded from environment variables, including optional fallbacks and defaults."}], "methods": [{"name": "str _env_first(*names: str)", "description": "Returns the first non-empty environment variable value among provided names, trimmed.", "scope": "", "scopeKind": ""}, {"name": "str _mask_secret(value: Optional[str], keep: int = 4)", "description": "Masks a secret value, leaving only the last few characters visible for safe logging.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Optional[str]] _analyze_url(uri: str)", "description": "Performs a non-throwing analysis of a URL for debugging purposes.", "scope": "", "scopeKind": ""}, {"name": "str get_atlassian_base_url()", "description": "Returns the configured Atlassian base URL.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] get_jira_oauth_config()", "description": "Returns a dictionary with Jira OAuth configuration parameters derived from environment settings.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,str] get_confluence_oauth_config()", "description": "Returns a dictionary with Confluence OAuth configuration parameters, falling back to Jira or general Atlassian config if needed.", "scope": "", "scopeKind": ""}, {"name": "str get_frontend_base_url_default()", "description": "Returns the default frontend URL used for redirection after authentication.", "scope": "", "scopeKind": ""}, {"name": "bool is_jira_oauth_configured()", "description": "Checks if the Jira OAuth configuration has necessary client_id, secret, and redirect URI.", "scope": "", "scopeKind": ""}, {"name": "str build_atlassian_authorize_url(client_id: str, redirect_uri: str, scopes: str, state: Optional[str] = None)", "description": "Constructs the OAuth2 authorization URL for Atlassian authentication flow based on provided parameters.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Dict[str,str]] get_jira_oauth_env_debug()", "description": "Provides debug information about the resolved environment variables related to Jira OAuth configuration, masking secrets and analyzing URLs.", "scope": "", "scopeKind": ""}, {"name": "bool _is_truthy(val: Optional[str | bool])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Tuple[str,Optional[str]] _resolve_env(names: List[str])", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["os.getenv", "urllib.parse.urlparse", "str.strip", "str.lower", "str.startswith", "str.endswith", "str.isnumeric", "dict.get"], "search-terms": ["oauth", "atlassian", "jira", "confluence", "environment variables", "OAuth URL construction", "OAuth configuration debug", "OAuth env fallback", "OAuth URL analysis"], "state": 2, "file_id": 12, "knowledge_revision": 89, "git_revision": "8d546d1b704b9a54444f579c950b9ebe7a1e6fd4", "revision_history": [{"38": ""}, {"54": "906ba192e73f2ea439ac8fce13c4ec73b18ccf62"}, {"75": "ca3b75ed68bc983a9896690cd6779e00d783a57d"}, {"77": "ca3b75ed68bc983a9896690cd6779e00d783a57d"}, {"82": "c14d893c14cb296cf1c83e9ca7050cbc51dc8f79"}, {"88": "8d546d1b704b9a54444f579c950b9ebe7a1e6fd4"}, {"89": "8d546d1b704b9a54444f579c950b9ebe7a1e6fd4"}], "ctags": [{"_type": "tag", "name": "ATLASSIAN_BASE_ENV_CANDIDATES", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^ATLASSIAN_BASE_ENV_CANDIDATES: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "FRONTEND_URL_ENV_CANDIDATES", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^FRONTEND_URL_ENV_CANDIDATES: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "JIRA_ID_ENV_CANDIDATES", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^JIRA_ID_ENV_CANDIDATES: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "JIRA_REDIRECT_ENV_CANDIDATES", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^JIRA_REDIRECT_ENV_CANDIDATES: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "JIRA_SECRET_ENV_CANDIDATES", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^JIRA_SECRET_ENV_CANDIDATES: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "Settings", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^class Settings(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_SETTINGS", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^_SETTINGS = Settings()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_analyze_url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def _analyze_url(uri: str) -> Dict[str, Optional[str]]:$/", "language": "Python", "typeref": "typename:Dict[str,Optional[str]]", "kind": "function", "signature": "(uri: str)"}, {"_type": "tag", "name": "_env_first", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def _env_first(*names: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(*names: str)"}, {"_type": "tag", "name": "_is_truthy", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def _is_truthy(val: Optional[str | bool]) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(val: Optional[str | bool])"}, {"_type": "tag", "name": "_mask_secret", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def _mask_secret(value: Optional[str], keep: int = 4) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(value: Optional[str], keep: int = 4)"}, {"_type": "tag", "name": "_resolve_env", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def _resolve_env(names: List[str]) -> Tuple[str, Optional[str]]:$/", "language": "Python", "typeref": "typename:Tuple[str,Optional[str]]", "kind": "function", "signature": "(names: List[str])"}, {"_type": "tag", "name": "app_env", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    app_env: str = Field(default=os.getenv(\"APP_ENV\", os.getenv(\"ENV\", \"production\")))$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "atlassian_base_url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    atlassian_base_url: Optional[str] = Field(default=_env_first(\"ATLASSIAN_CLOUD_BASE_URL\", \"NE/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "backend_cors_origins", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    backend_cors_origins: str = Field(default=os.getenv(\"BACKEND_CORS_ORIGINS\", os.getenv(\"NEXT_/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "build_atlassian_authorize_url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def build_atlassian_authorize_url(client_id: str, redirect_uri: str, scopes: str, state: Optiona/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(client_id: str, redirect_uri: str, scopes: str, state: Optional[str] = None)"}, {"_type": "tag", "name": "confluence_client_id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    confluence_client_id: Optional[str] = Field(default=_env_first(\"CONFLUENCE_OAUTH_CLIENT_ID\",/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "confluence_client_secret", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    confluence_client_secret: Optional[str] = Field(default=_env_first(\"CONFLUENCE_OAUTH_CLIENT_/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "confluence_redirect_uri", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    confluence_redirect_uri: Optional[str] = Field(default=_env_first(\"CONFLUENCE_OAUTH_REDIRECT/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "dev_mode", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    dev_mode: bool = Field(default=os.getenv(\"DEV_MODE\", \"false\").lower() in (\"1\", \"true\", \"yes\"/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "frontend_url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    frontend_url: Optional[str] = Field(default=_env_first(\"APP_FRONTEND_URL\", \"NEXT_PUBLIC_APP_/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "get_atlassian_base_url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def get_atlassian_base_url() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_confluence_oauth_config", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def get_confluence_oauth_config() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_frontend_base_url_default", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def get_frontend_base_url_default() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_jira_oauth_config", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def get_jira_oauth_config() -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_jira_oauth_env_debug", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def get_jira_oauth_env_debug() -> Dict[str, Dict[str, str]]:$/", "language": "Python", "typeref": "typename:Dict[str,Dict[str,str]]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_jira_oauth_configured", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^def is_jira_oauth_configured() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "jira_client_id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    jira_client_id: Optional[str] = Field(default=_env_first(\"JIRA_OAUTH_CLIENT_ID\", \"ATLASSIAN_/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "jira_client_secret", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    jira_client_secret: Optional[str] = Field(default=_env_first(\"JIRA_OAUTH_CLIENT_SECRET\", \"AT/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "jira_redirect_uri", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    jira_redirect_uri: Optional[str] = Field(default=_env_first(\"JIRA_OAUTH_REDIRECT_URI\", \"ATLA/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "log_level", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/oauth_config.py", "pattern": "/^    log_level: str = Field(default=os.getenv(\"LOG_LEVEL\", \"INFO\"))$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Settings", "scopeKind": "class"}], "hash": "27ef298324d1cdeb426dbab5c9273edf", "format-version": 4, "code-base-name": "integration_backend", "filename": "integration_backend/src/api/oauth_config.py", "fields": [{"name": "List[str] ATLASSIAN_BASE_ENV_CANDIDATES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] FRONTEND_URL_ENV_CANDIDATES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] JIRA_ID_ENV_CANDIDATES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] JIRA_REDIRECT_ENV_CANDIDATES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] JIRA_SECRET_ENV_CANDIDATES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_SETTINGS = Settings()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str app_env", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] atlassian_base_url", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "str backend_cors_origins", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] confluence_client_id", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] confluence_client_secret", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] confluence_redirect_uri", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "bool dev_mode", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] frontend_url", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] jira_client_id", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] jira_client_secret", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] jira_redirect_uri", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "str log_level", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}]}