{"is_source_file": true, "format": "Python", "description": "This is the main FastAPI application source file for a Jira-Confluence integration backend. It defines API endpoints for health checks, user management, integration connections (connect to Jira/Confluence), and fetch operations for Jira projects and Confluence pages, along with CRUD endpoints for Jira projects and Confluence pages. It also sets up middleware, database initialization, and response wrappers.", "external_files": ["src/db/config", "src/db/service", "src.api.schemas", "src.api.integrations_config"], "external_methods": ["create_user", "list_users", "get_user_by_id", "upsert_jira_project", "list_jira_projects_for_user", "upsert_confluence_page", "list_confluence_pages_for_user", "get_jira_credentials", "get_confluence_credentials"], "published": ["app", "_ocean_response"], "classes": [], "methods": [{"name": "health_check()", "description": "Endpoint for health checks, returns a success message indicating the service is healthy.", "scope": "", "scopeKind": ""}, {"name": "create_user_endpoint(payload: UserCreate, db=Depends(get_db))", "description": "API endpoint to create or fetch an existing user based on provided data.", "scope": "", "scopeKind": ""}, {"name": "list_users_endpoint(db=Depends(get_db))", "description": "API endpoint to list all registered users.", "scope": "", "scopeKind": ""}, {"name": "get_user_endpoint(user_id: int, db=Depends(get_db))", "description": "API endpoint to retrieve a user by their ID.", "scope": "", "scopeKind": ""}, {"name": "connect_jira(db=Depends(get_db), payload: UserCreate | None = None)", "description": "Endpoint to connect a user to Jira using stored credentials, creating or updating user connections.", "scope": "", "scopeKind": ""}, {"name": "connect_confluence(db=Depends(get_db), payload: UserCreate | None = None)", "description": "Endpoint to connect a user to Confluence using stored credentials, creating or updating user connections.", "scope": "", "scopeKind": ""}, {"name": "fetch_jira_projects(db=Depends(get_db), owner_id: int | None = None)", "description": "Fetches stored Jira projects for a user, placeholder for actual fetching.", "scope": "", "scopeKind": ""}, {"name": "fetch_confluence_pages(db=Depends(get_db), owner_id: int | None = None)", "description": "Fetches stored Confluence pages for a user, placeholder for actual fetching.", "scope": "", "scopeKind": ""}, {"name": "upsert_jira_project_endpoint(payload: JiraProjectCreate, db=Depends(get_db))", "description": "Create or update a Jira project associated with a user.", "scope": "", "scopeKind": ""}, {"name": "list_jira_projects_endpoint(owner_id: int, db=Depends(get_db))", "description": "List all Jira projects for a given user.", "scope": "", "scopeKind": ""}, {"name": "upsert_confluence_page_endpoint(payload: ConfluencePageCreate, db=Depends(get_db))", "description": "Create or update a Confluence page for a user.", "scope": "", "scopeKind": ""}, {"name": "list_confluence_pages_endpoint(owner_id: int, db=Depends(get_db))", "description": "List all Confluence pages for a specific user.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] _ocean_response(data: Any, message: str = \"ok\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["create_user", "list_users", "get_user_by_id", "upsert_jira_project", "list_jira_projects_for_user", "upsert_confluence_page", "list_confluence_pages_for_user", "get_jira_credentials", "get_confluence_credentials"], "search-terms": ["FastAPI", "Jira-Confluence", "integration_backend", "api endpoints", "user management", "connect to Jira", "connect to Confluence", "fetch Jira projects", "fetch Confluence pages", "upsert Jira project", "list Jira projects", "upsert Confluence page", "list Confluence pages"], "state": 2, "file_id": 1, "knowledge_revision": 32, "git_revision": "7fbfd021c4802e87c6da87c524fde505c2578f38", "revision_history": [{"7": "3ddbecfdaea73dec9c7dc9e5f607ebdc11919216"}, {"18": "3ddbecfdaea73dec9c7dc9e5f607ebdc11919216"}, {"22": "5e41eb50619ad398f0acd99dcd0f280e619e1f8c"}, {"24": "5e41eb50619ad398f0acd99dcd0f280e619e1f8c"}, {"30": "28dac5a32d269d73eee9c3668810d8ab5eec8ee9"}, {"31": "7fbfd021c4802e87c6da87c524fde505c2578f38"}, {"32": "7fbfd021c4802e87c6da87c524fde505c2578f38"}], "ctags": [{"_type": "tag", "name": "_ocean_response", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def _ocean_response(data: Any, message: str = \"ok\") -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(data: Any, message: str = \"ok\")"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_confluence", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def connect_confluence(db=Depends(get_db), payload: UserCreate | None = None):$/", "language": "Python", "kind": "function", "signature": "(db=Depends(get_db), payload: UserCreate | None = None)"}, {"_type": "tag", "name": "connect_jira", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def connect_jira(db=Depends(get_db), payload: UserCreate | None = None):$/", "language": "Python", "kind": "function", "signature": "(db=Depends(get_db), payload: UserCreate | None = None)"}, {"_type": "tag", "name": "create_user_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def create_user_endpoint(payload: UserCreate, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: UserCreate, db=Depends(get_db))"}, {"_type": "tag", "name": "fetch_confluence_pages", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def fetch_confluence_pages(db=Depends(get_db), owner_id: int | None = None):$/", "language": "Python", "kind": "function", "signature": "(db=Depends(get_db), owner_id: int | None = None)"}, {"_type": "tag", "name": "fetch_jira_projects", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def fetch_jira_projects(db=Depends(get_db), owner_id: int | None = None):$/", "language": "Python", "kind": "function", "signature": "(db=Depends(get_db), owner_id: int | None = None)"}, {"_type": "tag", "name": "get_user_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def get_user_endpoint(user_id: int, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user_id: int, db=Depends(get_db))"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "list_confluence_pages_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def list_confluence_pages_endpoint(owner_id: int, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(owner_id: int, db=Depends(get_db))"}, {"_type": "tag", "name": "list_jira_projects_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def list_jira_projects_endpoint(owner_id: int, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(owner_id: int, db=Depends(get_db))"}, {"_type": "tag", "name": "list_users_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def list_users_endpoint(db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(db=Depends(get_db))"}, {"_type": "tag", "name": "openapi_tags", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^openapi_tags = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "upsert_confluence_page_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def upsert_confluence_page_endpoint(payload: ConfluencePageCreate, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: ConfluencePageCreate, db=Depends(get_db))"}, {"_type": "tag", "name": "upsert_jira_project_endpoint", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_backend/src/api/main.py", "pattern": "/^def upsert_jira_project_endpoint(payload: JiraProjectCreate, db=Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: JiraProjectCreate, db=Depends(get_db))"}], "hash": "96d77b1e5d378deb9894ba52e46c8c20", "format-version": 4, "code-base-name": "integration_backend", "filename": "integration_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openapi_tags = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}