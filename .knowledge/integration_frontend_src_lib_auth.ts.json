{"is_source_file": true, "format": "TypeScript", "description": "This file provides authentication utility functions for session management, including fetching session status from the backend and redirecting unauthenticated users to the login page.", "external_files": ["fetch API/browser's network module"], "external_methods": ["fetch"], "published": ["getSession", "requireAuthOnClient"], "classes": [], "methods": [{"name": "export async function getSession(): Promise<{ authenticated: boolean; user?: any }> { getSession", "description": "Fetches the current user's session state from the backend, indicating whether the user is authenticated.", "scope": "", "scopeKind": ""}, {"name": "export async function requireAuthOnClient(): Promise<void> { requireAuthOnClient", "description": "Checks if the user is authenticated; if not, redirects to the login page.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "res.json", "window.location.href"], "search-terms": ["auth", "session", "authentication", "session check", "login redirect", "client-side auth"], "state": 2, "file_id": 48, "knowledge_revision": 407, "git_revision": "", "revision_history": [{"376": ""}, {"407": ""}], "ctags": [{"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_frontend/src/lib/auth.ts", "pattern": "/^   const base = process.env.NEXT_PUBLIC_BACKEND_BASE_URL || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "getSession", "scopeKind": "function"}, {"_type": "tag", "name": "getSession", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_frontend/src/lib/auth.ts", "pattern": "/^ export async function getSession(): Promise<{ authenticated: boolean; user?: any }> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "requireAuthOnClient", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_frontend/src/lib/auth.ts", "pattern": "/^ export async function requireAuthOnClient(): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_frontend/src/lib/auth.ts", "pattern": "/^   const res = await fetch(`${base}\\/auth\\/session`, { credentials: \"include\" });$/", "language": "TypeScript", "kind": "constant", "scope": "getSession", "scopeKind": "function"}, {"_type": "tag", "name": "sess", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146772/integration_frontend/src/lib/auth.ts", "pattern": "/^   const sess = await getSession();$/", "language": "TypeScript", "kind": "constant", "scope": "requireAuthOnClient", "scopeKind": "function"}], "hash": "72f46b93f31a0f4214c6dd0beb745f11", "format-version": 4, "code-base-name": "integration_backend", "filename": "integration_frontend/src/lib/auth.ts"}