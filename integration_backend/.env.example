# Integration Backend - Example .env
# Copy this file to .env and fill in the values. Do NOT commit real secrets.

# Runtime mode
APP_ENV=development
DEV_MODE=true
LOG_LEVEL=INFO

# CORS (comma-separated origins), e.g., http://localhost:3000,https://yourapp.com
BACKEND_CORS_ORIGINS=*

# Frontend base URL (used to redirect after successful auth)
# Example local: http://localhost:3000
APP_FRONTEND_URL=

# Public base URL for this backend (used to build redirect URIs when explicit values are not set)
# Example local: http://localhost:3001
# Production example:
# https://vscode-internal-21156-beta.beta01.cloud.kavia.ai:3001
PUBLIC_BASE_URL=

# Database URL (defaults to SQLite file if not set)
# Example for SQLite: sqlite:///./integration.db
# Example for Postgres: postgresql+psycopg://user:pass@host:5432/dbname
INTEGRATION_DB_URL=sqlite:///./integration.db

# Atlassian Cloud base (your site URL), e.g., https://your-team.atlassian.net
ATLASSIAN_CLOUD_BASE_URL=

# Jira/Confluence OAuth 2.0 (3LO)
# These must match your Atlassian Developer Console configuration.
# Prefer a single canonical redirect for all Atlassian apps:
ATLASSIAN_OAUTH_REDIRECT_URI=
# Example canonical redirect (must match exactly what you configure in Atlassian app):
# https://vscode-internal-40486-beta.beta01.cloud.kavia.ai:3001/api/oauth/atlassian/callback
# Alternative (if you use non-/api path):
# https://vscode-internal-40486-beta.beta01.cloud.kavia.ai:3001/auth/jira/callback
# NOTE: Whatever you choose MUST exactly match the redirect_uri used by the backend when initiating OAuth.
JIRA_OAUTH_CLIENT_ID=
JIRA_OAUTH_CLIENT_SECRET=
# Provider-specific fallbacks (optional if using the canonical key above)
JIRA_OAUTH_REDIRECT_URI=
CONFLUENCE_OAUTH_CLIENT_ID=
CONFLUENCE_OAUTH_CLIENT_SECRET=
CONFLUENCE_OAUTH_REDIRECT_URI=
# Optional legacy/alias variables
ATLASSIAN_CLIENT_ID=
ATLASSIAN_CLIENT_SECRET=
ATLASSIAN_REDIRECT_URI=

# Confluence OAuth 2.0 (optional if you reuse Jira app)
CONFLUENCE_OAUTH_CLIENT_ID=
CONFLUENCE_OAUTH_CLIENT_SECRET=
CONFLUENCE_OAUTH_REDIRECT_URI=

# Encryption key for token at-rest encryption (AES-GCM)
# Provide a stable secret (recommended 32-byte key, base64-encoded). If not set, tokens are stored in plaintext (dev only).
# Examples:
#   ENCRYPTION_KEY=Q2hhbmdlTWVUaGlzS2V5LURldl9Pbmx5XzEyMzQ1Njc=
#   ENCRYPTION_KEY=your-dev-secret-string
ENCRYPTION_KEY=

# Optional: set this to explicitly point to your env file if loader cannot find it
# INTEGRATION_BACKEND_ENV_FILE=/absolute/path/to/integration_backend/.env

# Frontend/backend defaults (for docs and local)
APP_FRONTEND_URL=http://localhost:3000
BACKEND_CORS_ORIGINS=http://localhost:3000
# DB default already set above to sqlite file
# INTEGRATION_DB_URL=sqlite:///./integration.db
